<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="de.bielefeld.umweltamt.aui.mappings.atl" schema="auik">

    <class name="AtlProbepkt" table="atl_probepkt" lazy="false">
        <id name="objektid" column="objektid" type="java.lang.Integer">
            <generator class="foreign">
            	<param name="property">basisObjekt</param>
            </generator>
        </id>

        <property name="beschreibung" column="beschreibung" type="java.lang.String" />
        <property name="nummer" column="nr_probepkt" type="java.lang.Integer" />
        <property name="branche" column="branche" type="java.lang.String" />
        
        <property name="atlFirmen" column="firmen_id" type="java.lang.Integer" />

        <many-to-one name="atlKlaeranlagen" column="ka_id" class="AtlKlaeranlagen" />

        <many-to-one name="atlProbeart" column="art_id" class="AtlProbeart" />

        <many-to-one name="atlSielhaut" column="sielhaut_id" class="AtlSielhaut" lazy="false" />

        <many-to-one name="basisSachbearbeiter" column="sachbearbeiter" class="de.bielefeld.umweltamt.aui.mappings.basis.BasisSachbearbeiter" lazy="false" />

        <one-to-one name="basisObjekt" class="de.bielefeld.umweltamt.aui.mappings.basis.BasisObjekt" constrained="true" cascade="all"/>
                                
        <set name="atlProbenahmen" cascade="all">
            <key column="objektid"/>
            <one-to-many class="AtlProbenahmen"/>
        </set>
        
    </class>

</hibernate-mapping>